import networkx as nx
import tkinter as tk
import sys
import matplotlib

matplotlib.use("TkAgg")
import numpy as np
import matplotlib.pyplot as plt
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg
from matplotlib.figure import Figure

listy = []
G = nx.Graph()
window = tk.Tk()
window.title("Node Colouring")
l1 = tk.Label(window, text="Please enter your input and choose colors to design your node graph",
              font=("Helvetica", 15))
l1.pack()
txt = tk.Text(width=80, height=20, )
txt.pack()
colorList = []


def read():
    del_num = 1
    added_node = 0
    text = txt.get('1.0', tk.END).splitlines()
    for line in text:
        for x in line:
            char = x.split()
            listy.append(char)

        del listy[del_num]
        del listy[del_num]
        del_num += 2

        leftnode = str(listy[added_node])
        rightnode = str(listy[added_node + 1])

        G.add_node(leftnode)
        G.add_node(rightnode)

        G.add_edge(leftnode, rightnode)
        added_node += 2







    if rdVar.get() == 1:
        colorList.append("red")
    if olvVar.get() == 1:
        colorList.append("olive")
    if bluVar.get() == 1:
        colorList.append("blue")
    if grnVar.get() == 1:
        colorList.append("green")
    if ylwVar.get() == 1:
        colorList.append("yellow")
    if prpVar.get() == 1:
        colorList.append("purple")
    if brwVar.get() == 1:
        colorList.append("brown")
    if orgVar.get() == 1:
        colorList.append("orange")
    print(colorList)

    print("******")
    print(listy)
    print(G.nodes)
    options = {
        "font_size": 21,
        "node_size": 1500,
        "node_color": "purple",
        "edgecolors": "black",
        "linewidths": 5,
        "width": 5,
    }

    nx.draw_networkx(G,  **options)
    ax = plt.gca()
    ax.margins(0.20)
    plt.axis("off")
    plt.show()


button1 = tk.Button(window, text="DESIGN GRAPH", width=20, command=read, font=("Helvetica", 15))
button1.pack()
rdVar = tk.IntVar()
olvVar = tk.IntVar()
bluVar = tk.IntVar()
grnVar = tk.IntVar()
ylwVar = tk.IntVar()
prpVar = tk.IntVar()
brwVar = tk.IntVar()
orgVar = tk.IntVar()
rd = tk.Checkbutton(window, text="red", variable=rdVar, height=2, width=10, selectcolor="red")
olv = tk.Checkbutton(window, text="olive", variable=olvVar, height=2, width=10, selectcolor="olive")
blu = tk.Checkbutton(window, text="blue", variable=bluVar, height=2, width=10, selectcolor="blue")
grn = tk.Checkbutton(window, text="green", variable=grnVar, height=2, width=10, selectcolor="green")
ylw = tk.Checkbutton(window, text="yellow", variable=ylwVar, height=2, width=10, selectcolor="yellow")
prp = tk.Checkbutton(window, text="purple", variable=prpVar, height=2, width=10, selectcolor="purple")
brw = tk.Checkbutton(window, text="brown", variable=brwVar, height=2, width=10, selectcolor="brown")
org = tk.Checkbutton(window, text="orange", variable=orgVar, height=2, width=10, selectcolor="orange")
rd.pack()
olv.pack()
blu.pack()
grn.pack()
ylw.pack()
prp.pack()
brw.pack()
org.pack()
plt.show()

window.mainloop()

# G.add_edge("A","B")
# G.add_edge("B","C")
# G.add_edge("D","A")
# G.add_edge("D","B")
# nx.draw_networkx(G, **options)
